# TEST GH PR
language: node_js
git:
  depth: 1
cache:
  bundler: true
  directories:
    - node_modules
    - '$(npm root -g)'
    - '$(npm config get prefix)/bin'
branches:
  only:
    - master
    - dev
    - stage
    - test
script: 'cd example && $SCRIPT'
matrix:
  include:
    -
      node_js: 6
      before_install:
        - 'npm install -g recink'
      env: 'SCRIPT="recink run unit"'
    -
      node_js: 8
      before_install:
        - 'npm install -g recink'
        - 'npm install -g recink-codeclimate'
      env: 'SCRIPT="recink run unit -c recink-codeclimate"'
    -
      node_js: 8
      before_install:
        - 'npm install -g recink'
      env: 'SCRIPT="recink run e2e"'
      addons:
        apt:
          packages:
            - xvfb
      install:
        - 'export DISPLAY='':99.0'''
        - 'Xvfb :99 -screen 0 1024x768x24 > /dev/null 2>&1 &'
env:
  global:
    -
      secure: XfiTtzUGNSbkNbDHUdaw+jenmpOS3pKrTLzYYSLTcAoQWgXi1Du6UJl7LKrA9wAYB7vdMymaXbEEN7q2vygm51+Rx5NfPwVSzSFJSsa/OA4FJjR3EW4vx51z8LCf0sBOc6yTh4xPobtwqXfuCHSizzzoALrdz/ftfwLgbMgqF5uca1QLDjiVFSuJtxl1IamPa0uFL2iJqhdtt1Ip71lk6VgHkzhD73W2RXIDZJ9kq+SusF85V2+ki2wQHPpTgOwMDqAnaYob9+/r5o158J0b6bZwWWQVKAXyrO7kcfZhPyV0+W/eNof8zFPQlsSiBB0kyg2qpgL0z4mN1+L4SajbxvxnmeWtAAGsidmXywJSLqPh7j7vLefoWMWikt33VVhkA+VdvIfhd6OIbQikC+yKdkBqju3nyDdQ1PvXzs32l2JpDxEUt4Gu/i/L2DFkdXcBEoKBewCdzYvwEnL8V3NZrHsW0RZg+bYuhck6WCnNwqLIAOBcu5DzdZWIFeguLhoX5jczvd/JYMccl103jgEY3we7oLrACo4XVi4nAnR3wFbTHBKwVebmzI33AnWBHD+NXgcbC8FeoOCcZ5/MGl3/IrO9qHbaa2Ju/Z8GBEJfO2Rolp3w01mNSVznSW4bx8uq1b1nXmo2tXfcoRlzJWQ7BIAswJRzFZK2QHYq7fii9Wg=
